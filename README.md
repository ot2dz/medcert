# تطبيق الشهادات الطبية | Medical Certificates App

تطبيق سطح مكتب لإدارة وطباعة الشهادات الطبية بواجهة عربية حديثة.

## 🚀 المميزات الرئيسية

- **إدارة المرضى**: إضافة وتعديل وحذف بيانات المرضى
- **الشهادات الطبية**: إنشاء شهادات مخصصة مع إمكانية التحرير
- **الطباعة المباشرة**: طباعة فورية للشهادات
- **تصدير PDF**: حفظ الشهادات كملفات PDF
- **تحرير التواريخ**: إمكانية تعديل تاريخ إصدار الشهادات
- **البحث والفلترة**: العثور على المرضى والشهادات بسرعة
- **واجهة عربية**: دعم كامل للغة العربية

## 🛠️ التقنيات المستخدمة

- **Electron** 38.2.0 - إطار العمل لتطبيقات سطح المكتب
- **React** 18.3.1 - واجهة المستخدم
- **Vite** - أداة البناء السريعة
- **Better-sqlite3** - قاعدة البيانات المحلية
- **Node.js** 20+ - بيئة التشغيل

## 📥 التثبيت والتشغيل

### متطلبات النظام
- Windows 10/11 (64-bit)
- macOS 10.15+ (Intel/Apple Silicon)
- Linux (Ubuntu 18.04+, Fedora 32+)

### تثبيت المطور

```bash
# استنساخ المشروع
git clone https://github.com/yourusername/medcert.git
cd medcert

# تثبيت التبعيات
npm install

# تشغيل التطبيق في وضع التطوير
npm run dev
```

### أوامر البناء

```bash
# بناء واجهة React
npm run build:ui

# بناء تطبيق Electron للنظام الحالي
npm run build

# إنشاء ملفات التوزيع للنوافذ
npm run dist

# تشغيل سريع للاختبار
npm run pack
```

## 🏗️ البناء الآلي (CI/CD)

### GitHub Actions

التطبيق يدعم البناء الآلي باستخدام GitHub Actions:

- **Windows**: إنشاء ملفات `.exe` و `.msi`
- **macOS**: إنشاء ملفات `.dmg`
- **Linux**: إنشاء ملفات `.AppImage` و `.deb`

### إعداد الإصدارات

1. إنشاء tag جديد:
```bash
git tag v1.0.0
git push origin v1.0.0
```

2. سيتم تلقائياً:
   - بناء التطبيق لجميع المنصات
   - رفع الملفات كـ artifacts
   - إنشاء GitHub Release

## 📁 هيكل المشروع

```
medcert/
├── src/
│   ├── main/           # عملية Electron الرئيسية
│   │   ├── main.js     # نقطة الدخول الرئيسية
│   │   └── preload.js  # سكريبت الأمان
│   └── renderer/       # واجهة React
│       ├── App.jsx     # مكون التطبيق الرئيسي
│       ├── main.jsx    # نقطة دخول React
│       └── index.html  # صفحة HTML الأساسية
├── db/
│   └── schema.sql      # هيكل قاعدة البيانات
├── assets/
│   └── templates/      # قوالب الشهادات
├── build/              # ملفات البناء المخصصة
├── dist/               # ملفات التوزيع (تُنشأ تلقائياً)
└── .github/workflows/  # إعدادات GitHub Actions
```

## 🗄️ قاعدة البيانات

يستخدم التطبيق SQLite مع الجداول التالية:

- **patients**: بيانات المرضى الأساسية
- **certificates**: الشهادات الطبية والتفاصيل

## 🔧 التخصيص

### إضافة قوالب جديدة

1. إنشاء ملف HTML في `assets/templates/`
2. استخدام المتغيرات مثل `{{patientName}}`, `{{issueDate}}`
3. تحديث دالة `generateCertificateHTML` في `main.js`

### تعديل التصميم

- ملفات CSS في `src/renderer/`
- استخدام CSS Variables للألوان الرئيسية
- دعم كامل للـ RTL والعربية

## 🐛 استكشاف الأخطاء

### مشاكل شائعة

1. **خطأ في البناء**: تأكد من تثبيت جميع التبعيات
```bash
npm ci
```

2. **مشكلة في قاعدة البيانات**: حذف ملف `.sqlite` وإعادة التشغيل

3. **مشكلة في الطباعة**: التأكد من وجود طابعة افتراضية

## 📄 الترخيص

هذا المشروع مُرخص تحت رخصة MIT.

---

**تم التطوير بـ ❤️ لخدمة المجتمع الطبي**